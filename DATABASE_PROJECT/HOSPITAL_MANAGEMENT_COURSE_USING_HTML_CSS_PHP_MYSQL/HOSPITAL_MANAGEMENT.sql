CREATE DATABASE HOSPITAL_MANAGEMENT;

USE HOSPITAL_MANAGEMENT;

CREATE TABLE PATIENTS_DATA
(
	ID VARCHAR(5) PRIMARY KEY,
	NAME VARCHAR(30) NOT NULL,
    AGE VARCHAR(5) NOT NULL,
    GENDER VARCHAR(10) NOT NULL,
    CONTACT VARCHAR(20) NOT NULL,
    ADDRESS VARCHAR (50) NOT NULL
);

CREATE TABLE DOCTORS_DATA
(
	ID VARCHAR(5) PRIMARY KEY,
    SPECIALITY VARCHAR(30) NOT NULL,
	NAME VARCHAR(30) NOT NULL,
    AGE VARCHAR(5) NOT NULL,
    GENDER VARCHAR(10) NOT NULL,
    CONTACT VARCHAR(20) NOT NULL
);

CREATE TABLE ROOMS
(
	ROOM_NO VARCHAR(5) PRIMARY KEY,
    STATE VARCHAR(10)
);

CREATE TABLE ALLOCATION
(
	PATIENT_ID VARCHAR(5),
    ROOM_NO VARCHAR(5) PRIMARY KEY,
    CHECK_IN DATETIME,
    CHECK_OUT DATETIME,
    FOREIGN KEY (PATIENT_ID) REFERENCES PATIENTS_DATA(ID) ON DELETE CASCADE,
    FOREIGN KEY (ROOM_NO) REFERENCES ROOMS(ROOM_NO) ON DELETE CASCADE
);

CREATE TABLE APPOINTED
(
	PATIENT_ID VARCHAR(5) PRIMARY KEY,
    DOCTOR_ID VARCHAR(5),
    DISEASE VARCHAR(30),
    FOREIGN KEY(PATIENT_ID) REFERENCES PATIENTS_DATA(ID) ON DELETE CASCADE,
    FOREIGN KEY(DOCTOR_ID) REFERENCES DOCTORS_DATA(ID) ON DELETE CASCADE 
);

INSERT INTO PATIENTS_DATA(ID, NAME, AGE, GENDER, CONTACT, ADDRESS)
	VALUES
		('P01', 'ASHRAFUL', '30', 'MALE', '0111111', 'AGRABAD, CHITTAGONG'),
        ('P02', 'MUNTAHA', '25', 'FEMALE', '0122111', 'GEC, CHITTAGONG'),
        ('P03', 'BAHAR', '35', 'MALE', '0112131', 'KHULSI, CHITTAGONG'),
        ('P04', 'SHANTA', '30', 'FEMALE', '0121411', 'CHADPUR, BANSHKHALI'),
        ('P05', 'NASIR', '45', 'MALE', '0221151', 'JAMALKHAN, CHITTAGONG'),
        ('P06', 'SHAFIQ', '22', 'MALE', '0132311', 'AGRABAD, CHITTAGONG'),
        ('P07', 'NAHAR', '37', 'FEMALE', '0142411', 'DEWANHAT, CHITTAGONG'),
        ('P08', 'YEASMIN', '40', 'FEMALE', '0333111', 'NEW MARKET, CHITTAGONG'),
        ('P09', 'JABIR', '27', 'MALE', '0111199', 'WASA, CHITTAGONG'),
        ('P10', 'JHUMUR', '26', 'FEMALE', '0117791', 'KALURGHAT, CHITTAGONG');
        
INSERT INTO DOCTORS_DATA(ID, SPECIALITY, NAME, AGE, GENDER, CONTACT)
	VALUES
		('D01', 'HEART','DR. KAMRUL', '47', 'MALE', '0188888'), 
        ('D02', 'LIVER','DR. HASAN', '50', 'MALE', '0188777'), 
        ('D03', 'KEDNEY','DR. IQBAL', '36', 'MALE', '0188785'), 
        ('D04', 'CANCER','DR. FERDOUS', '45', 'MALE', '0122888'), 
        ('D05', 'HEART','DR. NASREEN', '44', 'FEMALE', '0177488'), 
        ('D06', 'ENT','DR. MANKIK', '40', 'MALE', '0187748'), 
        ('D07', 'GYNOCOLOGIST','DR. FATEMA', '48', 'FEMALE', '0184488'), 
        ('D08', 'LIVER','DR. ASIF', '42', 'MALE', '0188198'), 
        ('D09', 'CANCER','DR. AZAD', '39', 'MALE', '0188458'), 
        ('D10', 'GYNOCOLOGIST','DR. RIAZ', '41', 'MALE', '0188228');

INSERT INTO ROOMS(ROOM_NO, STATE)
	VALUES
		('R001', 'ACTIVE'),
        ('R002', 'ACTIVE'),
        ('R003', 'ACTIVE'),
        ('R004', 'ACTIVE'),
        ('R005', 'ACTIVE'),
        ('R006', 'ACTIVE'),
        ('R007', 'ACTIVE'),
        ('R008', 'ACTIVE'),
        ('R009', 'ACTIVE'),
        ('R010', 'ACTIVE'),
        ('R011', 'INACTIVE'),
        ('R012', 'INACTIVE'),
        ('R013', 'INACTIVE'),
        ('R014', 'INACTIVE'),
        ('R015', 'INACTIVE');


INSERT INTO ALLOCATION(PATIENT_ID, ROOM_NO, CHECK_IN, CHECK_OUT)
	VALUES
		('P01', 'R001', '2024-03-01 11:05:00', NULL),
        ('P02', 'R002', '2024-03-10 09:55:00', NULL),
        ('P03', 'R003', '2024-03-21 18:10:00', NULL),
        ('P04', 'R004', '2024-03-21 22:15:00', NULL),
        ('P05', 'R005', '2024-04-01 11:30:00', NULL),
        ('P06', 'R006', '2024-04-11 02:45:00', NULL),
        ('P07', 'R007', '2024-04-13 10:25:00', NULL),
        ('P08', 'R008', '2024-05-02 19:55:00', NULL),
        ('P09', 'R009', '2024-05-04 23:45:00', NULL),
        ('P10', 'R010', '2024-05-18 08:55:00', NULL);
        
INSERT INTO APPOINTED(PATIENT_ID, DOCTOR_ID, DISEASE)
	VALUES
		('P01', 'D01', 'HEART'),
        ('P02', 'D04', 'CANCER'),
        ('P03', 'D05', 'HEART'),
        ('P04', 'D10', 'GYNOCOLOGIST'),
        ('P05', 'D02', 'LIVER'),
        ('P06', 'D01', 'HEART'),
        ('P07', 'D07', 'GYNOCOLOGIST'),
        ('P08', 'D03', 'KIDNEY'),
        ('P09', 'D02', 'LIVER'),
        ('P10', 'D09', 'CANCER');

